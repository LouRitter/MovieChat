(this.webpackJsonpmoviechat2=this.webpackJsonpmoviechat2||[]).push([[0],{224:function(e,t,a){e.exports=a(476)},229:function(e,t,a){},230:function(e,t,a){},231:function(e,t,a){},240:function(e,t){},242:function(e,t){},251:function(e,t){},253:function(e,t){},305:function(e,t){},306:function(e,t){},357:function(e,t){},447:function(e,t,a){},452:function(e,t,a){},453:function(e,t,a){},454:function(e,t,a){},471:function(e,t,a){},475:function(e,t,a){e.exports=a.p+"static/media/movietalk.05b8fd20.png"},476:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(42),s=a.n(i),l=(a(229),a(24)),r=a(25),c=a(28),m=a(26),u=a(29),h=a(27),d=(a(230),a(231),a(141),a(447),a(67)),p=a(54),v=a(53),b=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.Title,a=e.imdbID,n=e.Poster,i=e.Year;return"N/A"===n&&(n="https://via.placeholder.com/300x450"),o.a.createElement(p.a,{style:{width:"18rem",backgroundColor:"#282c34"},className:"movie"},o.a.createElement(p.a.Body,null,o.a.createElement("div",{className:"title-year"},o.a.createElement(p.a.Title,{className:"title"},t),o.a.createElement(p.a.Subtitle,{className:"year"},i))),o.a.createElement(p.a.Img,{src:n,alt:"my movie poster"}),o.a.createElement(d.b,{to:{pathname:"movies/".concat(a),state:{title:{Title:t},imdbID:{imdbID:a},image:{Poster:n},year:{Year:i}}}},o.a.createElement(v.a,{className:"chatbutton"},o.a.createElement("span",null,"Chat About It"))))}}]),t}(o.a.Component),f=(a(452),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={title:""},a.handleSubmit=function(){var e=a.state.title;e=e.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" "),a.props.handleSendRequest(e),a.setState({title:""})},a.handleInputTitle=function(e){e.preventDefault();var t=e.target.value;a.setState({title:t})},a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.state.title;return o.a.createElement("div",{className:"search"},o.a.createElement("input",{className:"search-box",type:"text",onChange:this.handleInputTitle,value:e}),o.a.createElement("input",{className:"button",type:"submit",onClick:this.handleSubmit,value:"Search"}))}}]),t}(o.a.Component)),g=a(98),E=a(223),O=function(e){function t(){var e,n;Object(l.a)(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={movies:[],user:null},n.sendRequest=function(e){a(112)({method:"GET",url:"https://movie-database-imdb-alternative.p.rapidapi.com/",qs:{page:"1",r:"json",s:e},headers:{"x-rapidapi-host":"movie-database-imdb-alternative.p.rapidapi.com","x-rapidapi-key":"GJnF3zwATmmshyz03tiXO7Rg13v6p1RDW2bjsnKV4XqoYfWoRj"}},function(e,t,a){if(e)throw new Error(e);var n=JSON.parse(a).Search;console.log(n),this.setState({movies:n})}.bind(Object(u.a)(n)))},n}return Object(h.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(g.a,{className:"App-header"},o.a.createElement("h1",null,"Search For A Movie"),o.a.createElement(f,{handleSendRequest:this.sendRequest})),o.a.createElement(E.a,null,this.state.movies.map((function(e){if(e.Title&&e.imdbID)return o.a.createElement(b,e)}))))}}]),t}(o.a.Component),y=(a(453),a(454),a(69)),j=a.n(y);a(468);j.a.initializeApp({apiKey:"AIzaSyA_OSfiTXh5e4Jj2ctJtn0Pu6bIkORDxsQ",authDomain:"moviechat-240e5.firebaseapp.com",databaseURL:"https://moviechat-240e5.firebaseio.com",projectId:"moviechat-240e5",storageBucket:"moviechat-240e5.appspot.com",messagingSenderId:"981629435123",appId:"1:981629435123:web:f5b305a052801b052b0b86",measurementId:"G-THG0THWT0V"});var C=new j.a.auth.GoogleAuthProvider,N=j.a.auth(),w=j.a.firestore(),k=j.a,S=a(103),x=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).submitCommentHandler=function(t){t.preventDefault();var a={};a.comment=e.state.comment,a.userid=e.state.user.displayName,a.replies=[],w.collection("MovieComments").doc(e.props.movieid).collection("comments").add(a),alert("You are submitting "+e.state.comment)},e.handleChange=function(t){e.setState({comment:t.target.value})},e.state={user:null,comments:[]},e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=w.collection("MovieComments").doc(this.props.movieid).collection("comments");this.setState({ref:t}),N.onAuthStateChanged((function(t){t&&(console.log(t),e.setState({user:t}))})),w.collection("MovieComments").doc(this.props.movieid).collection("comments").get().then((function(t){var a=t.docs.map((function(e){return e.data()}));console.log(a),e.setState({comments:a})}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"Comments"},o.a.createElement("div",{className:"commentwritebox"},o.a.createElement("h3",null,"Discuss The Movie Here"),o.a.createElement(S.a,{onSubmit:this.submitCommentHandler},o.a.createElement(S.a.Group,{controlId:"commentForm.ControlTextarea1"},o.a.createElement(S.a.Control,{as:"textarea",type:"text",value:this.state.value,placeholder:"Enter text",onChange:this.handleChange,rows:"3"})),o.a.createElement(v.a,{type:"submit"},"Submit"))),o.a.createElement("div",{className:"commentlistbox"},o.a.createElement("h3",null,"Comments"),this.state.user?o.a.createElement("div",null,this.state.comments.map((function(e,t){return o.a.createElement("div",{className:"commentbox"},o.a.createElement("h4",null," ",e.userid),o.a.createElement("span",{key:t},e.comment),e.replies.map((function(e,t){return o.a.createElement("div",{className:"replybox"},o.a.createElement("h5",null,e.userid),o.a.createElement("span",null,e.comment))})))}))):o.a.createElement("div",null,o.a.createElement("h3",null,"Log in to see Comments"))))}}]),t}(o.a.Component),T=function(e){function t(){var e,n;Object(l.a)(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).handleToggleClick=n.handleToggleClick.bind(Object(u.a)(n)),n.state={title:"",image:"",year:"",plotOutline:"",id:"",genres:"",ratings:"",showMore:!0},n.sendRequest=function(e){a(112)({method:"GET",url:"https://movie-database-imdb-alternative.p.rapidapi.com/",qs:{i:e,r:"json"},headers:{"x-rapidapi-host":"movie-database-imdb-alternative.p.rapidapi.com","x-rapidapi-key":"GJnF3zwATmmshyz03tiXO7Rg13v6p1RDW2bjsnKV4XqoYfWoRj"}},function(e,t,a){if(e)throw new Error(e);var n=JSON.parse(a);console.log(n),this.setState({title:n.Title,year:n.Year,image:n.Poster,plotOutline:n.Plot,id:n.imdbID,genres:n.Genre,ratings:n.imdbRating})}.bind(Object(u.a)(n)))},n}return Object(h.a)(t,e),Object(r.a)(t,[{key:"handleToggleClick",value:function(){this.setState((function(e){return{showMore:!e.showMore}}))}},{key:"componentDidMount",value:function(){var e=this.props.match.params.id;console.log(e),this.sendRequest(e)}},{key:"render",value:function(){var e=this.state.title,t="";return t=null!=this.state.plotOutline.text&&this.state.plotOutline.text.length>150?this.state.plotOutline.text.substring(0,this.state.plotOutline.text.indexOf(".")+1):this.state.plotOutline.text,o.a.createElement("div",{className:"Chat"},o.a.createElement(g.a,{className:"Jumbo"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"imgholder col-md-4"},o.a.createElement("img",{className:"poster",src:this.state.image,alt:"poster"})),o.a.createElement("div",{className:"col-md-8 movietext"},o.a.createElement("div",{className:"row"},o.a.createElement("h1",null,e),o.a.createElement("h3",{className:"movieyear"},"(",this.state.year,")")),o.a.createElement("div",{className:"row plotRow"},this.state.showMore?o.a.createElement("span",{className:"details"},this.state.plotOutline,o.a.createElement(v.a,{className:"showMoreButton btn-xs",onClick:this.handleToggleClick},"Show Less")):o.a.createElement("span",{className:"details"},t,o.a.createElement(v.a,{className:"dots",onClick:this.handleToggleClick},"Info"))),o.a.createElement("div",{className:"row"},o.a.createElement("span",{className:"genreList col-md-6"},o.a.createElement("b",null,"Genres:")," ",this.state.genres),o.a.createElement("span",{className:"genreList col-md-6"},o.a.createElement("b",null,"Rating:")," ",this.state.ratings))))),o.a.createElement(x,{movieid:this.props.match.params.id}))}}]),t}(o.a.Component),I=a(70),R=(a(471),a(472),a(473),a(474),a(47)),A=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={show:!1,setShow:!1},e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=function(){return e.setState({show:!1})},n=function(){return e.setState({show:!0})};return o.a.createElement("div",null,o.a.createElement(I.a,{className:"navbar"},o.a.createElement(I.a.Brand,{href:"/"},o.a.createElement("img",{src:a(475),width:"auto",height:"60",className:"d-inline-block align-top",alt:"React Bootstrap logo"})),o.a.createElement(I.a.Toggle,null),o.a.createElement(I.a.Collapse,{className:"justify-content-end"},o.a.createElement(I.a.Text,{className:"accounttext"},this.props.user?o.a.createElement("button",{className:"signinout",onClick:n},"Log Out"):o.a.createElement("button",{className:"signinout",onClick:n},"Log In")))),o.a.createElement(R.a,{show:this.state.show,onHide:t},o.a.createElement(R.a.Header,{closeButton:!0},o.a.createElement(R.a.Title,null,"Modal heading")),o.a.createElement(R.a.Body,null,"Woohoo, you're reading this text in a modal!"),o.a.createElement(R.a.Footer,null,o.a.createElement(R.a,{variant:"secondary",onClick:t},"Close"),o.a.createElement(R.a,{variant:"primary",onClick:t},"Save Changes"))))}}]),t}(o.a.Component),D=(a(219),a(55)),M=(k.database(),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={user:null},e.login=e.login.bind(Object(u.a)(e)),e.logout=e.logout.bind(Object(u.a)(e)),e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;N.onAuthStateChanged((function(t){t&&e.setState({user:t})}))}},{key:"handleChange",value:function(e){}},{key:"logout",value:function(){var e=this;N.signOut().then((function(){e.setState({user:null})}))}},{key:"login",value:function(){var e=this;N.signInWithPopup(C).then((function(t){var a=t.user;e.setState({user:a})}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"bg2"},o.a.createElement(A,{user:this.state.user,login:this.login,logout:this.logout}),o.a.createElement(d.a,null,o.a.createElement(D.c,null,o.a.createElement(D.a,{exact:!0,path:"/",component:O}),o.a.createElement(D.a,{path:"/movies/:id",component:T}))))}}]),t}(o.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[224,1,2]]]);
//# sourceMappingURL=main.43edfb59.chunk.js.map